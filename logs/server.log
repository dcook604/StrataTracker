[2025-05-26T22:14:11.745Z] [INFO] Setting up database connection...
[2025-05-26T22:14:11.747Z] [ERROR] DATABASE_URL environment variable is not set
[2025-05-26T22:18:18.223Z] [INFO] Setting up database connection...
[2025-05-26T22:18:18.224Z] [ERROR] DATABASE_URL environment variable is not set
[2025-05-26T22:19:27.702Z] [INFO] Setting up database connection...
[2025-05-26T22:19:27.703Z] [ERROR] DATABASE_URL environment variable is not set
[2025-05-26T22:22:00.219Z] [INFO] Setting up database connection...
[2025-05-26T22:22:00.220Z] [ERROR] DATABASE_URL environment variable is not set
[2025-05-26T22:23:12.367Z] [INFO] Setting up database connection...
[2025-05-26T22:23:12.368Z] [ERROR] DATABASE_URL environment variable is not set
[2025-05-26T22:24:55.462Z] [INFO] Setting up database connection...
[2025-05-26T22:24:55.462Z] [ERROR] DATABASE_URL environment variable is not set
[2025-05-26T22:25:46.516Z] [INFO] Setting up database connection...
[2025-05-26T22:25:46.517Z] [ERROR] DATABASE_URL environment variable is not set
[2025-05-26T22:26:11.793Z] [INFO] Setting up database connection...
[2025-05-26T22:26:11.793Z] [ERROR] DATABASE_URL environment variable is not set
[2025-05-26T22:27:22.481Z] [INFO] Setting up database connection...
[2025-05-26T22:27:22.481Z] [INFO] Database connection string (masked): postgres://spectrum4:****@localhost:5432/spectrum4
[2025-05-26T22:27:22.485Z] [INFO] Drizzle ORM initialized successfully
[2025-05-26T22:27:22.505Z] [INFO] Global error handlers configured successfully
[2025-05-26T22:27:22.507Z] [INFO] System resources status:: {"memory":{"rss":"118.35 MB","heapTotal":"61.43 MB","heapUsed":"41.71 MB","external":"6.68 MB","arrayBuffers":"3.34 MB","systemFree":"37187.03 MB","systemTotal":"40107.36 MB","percentFree":"92.72%"},"cpu":{"loadAvg1":"0.69","loadAvg5":"0.31","loadAvg15":"0.36","cores":10},"uptime":"7h 12m 52s","processUptime":"1s"}
[2025-05-26T22:27:22.509Z] [INFO] Attempting to start server on port 3000
[2025-05-26T22:27:22.510Z] [INFO] Application environment details:: {"nodeEnv":"development","port":3000,"databaseUrl":"Set (value hidden)","platform":"linux","nodeVersion":"v20.19.2","pid":76405}
[2025-05-26T22:27:22.573Z] [ERROR] Database connection test failed:: {"message":"connect ECONNREFUSED 127.0.0.1:5432","stack":"Error: connect ECONNREFUSED 127.0.0.1:5432\n    at /home/viodb/projects/StrataTracker/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///home/viodb/projects/StrataTracker/dist/index.js:608:24","code":"ECONNREFUSED"}
[2025-05-26T22:27:22.574Z] [WARN] Application will continue despite database connection issues
[2025-05-26T22:27:22.628Z] [ERROR] Port 3000 is still in use, could not start server
[2025-05-26T22:28:22.649Z] [INFO] Setting up database connection...
[2025-05-26T22:28:22.650Z] [INFO] Database connection string (masked): postgres://spectrum4:****@localhost:5432/spectrum4
[2025-05-26T22:28:22.654Z] [INFO] Drizzle ORM initialized successfully
[2025-05-26T22:28:22.674Z] [INFO] Global error handlers configured successfully
[2025-05-26T22:28:22.676Z] [INFO] System resources status:: {"memory":{"rss":"121.94 MB","heapTotal":"61.43 MB","heapUsed":"41.65 MB","external":"6.78 MB","arrayBuffers":"3.32 MB","systemFree":"37479.38 MB","systemTotal":"40107.36 MB","percentFree":"93.45%"},"cpu":{"loadAvg1":"0.32","loadAvg5":"0.27","loadAvg15":"0.34","cores":10},"uptime":"7h 13m 52s","processUptime":"1s"}
[2025-05-26T22:28:22.679Z] [INFO] Attempting to start server on port 3000
[2025-05-26T22:28:22.679Z] [INFO] Application environment details:: {"nodeEnv":"development","port":3000,"databaseUrl":"Set (value hidden)","platform":"linux","nodeVersion":"v20.19.2","pid":76808}
[2025-05-26T22:28:22.694Z] [ERROR] Database connection test failed:: {"message":"connect ECONNREFUSED 127.0.0.1:5432","stack":"Error: connect ECONNREFUSED 127.0.0.1:5432\n    at /home/viodb/projects/StrataTracker/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///home/viodb/projects/StrataTracker/dist/index.js:608:24","code":"ECONNREFUSED"}
[2025-05-26T22:28:22.694Z] [WARN] Application will continue despite database connection issues
[2025-05-26T22:28:22.780Z] [INFO] Server started successfully and listening on port 3000
[2025-05-26T22:28:52.679Z] [INFO] System resources status:: {"memory":{"rss":"110.57 MB","heapTotal":"36.81 MB","heapUsed":"35.01 MB","external":"4.19 MB","arrayBuffers":"0.70 MB","systemFree":"37487.14 MB","systemTotal":"40107.36 MB","percentFree":"93.47%"},"cpu":{"loadAvg1":"0.25","loadAvg5":"0.25","loadAvg15":"0.34","cores":10},"uptime":"7h 14m 22s","processUptime":"31s"}
[2025-05-26T22:29:22.680Z] [INFO] System resources status:: {"memory":{"rss":"110.69 MB","heapTotal":"36.81 MB","heapUsed":"35.15 MB","external":"4.22 MB","arrayBuffers":"0.73 MB","systemFree":"37471.22 MB","systemTotal":"40107.36 MB","percentFree":"93.43%"},"cpu":{"loadAvg1":"0.22","loadAvg5":"0.25","loadAvg15":"0.33","cores":10},"uptime":"7h 14m 52s","processUptime":"1m 1s"}
[2025-05-26T22:29:52.681Z] [INFO] System resources status:: {"memory":{"rss":"110.82 MB","heapTotal":"36.81 MB","heapUsed":"35.28 MB","external":"4.25 MB","arrayBuffers":"0.76 MB","systemFree":"37494.05 MB","systemTotal":"40107.36 MB","percentFree":"93.48%"},"cpu":{"loadAvg1":"0.27","loadAvg5":"0.25","loadAvg15":"0.33","cores":10},"uptime":"7h 15m 22s","processUptime":"1m 31s"}
[2025-05-26T22:30:22.682Z] [INFO] System resources status:: {"memory":{"rss":"111.07 MB","heapTotal":"36.81 MB","heapUsed":"35.56 MB","external":"4.28 MB","arrayBuffers":"0.79 MB","systemFree":"37513.16 MB","systemTotal":"40107.36 MB","percentFree":"93.53%"},"cpu":{"loadAvg1":"0.32","loadAvg5":"0.26","loadAvg15":"0.33","cores":10},"uptime":"7h 15m 52s","processUptime":"2m 1s"}
[2025-05-26T22:30:24.361Z] [INFO] Setting up database connection...
[2025-05-26T22:30:24.362Z] [INFO] Database connection string (masked): postgres://spectrum4:****@localhost:5432/spectrum4
[2025-05-26T22:30:24.366Z] [INFO] Drizzle ORM initialized successfully
[2025-05-26T22:30:24.387Z] [INFO] Global error handlers configured successfully
[2025-05-26T22:30:24.388Z] [INFO] System resources status:: {"memory":{"rss":"116.71 MB","heapTotal":"59.05 MB","heapUsed":"38.33 MB","external":"6.30 MB","arrayBuffers":"2.84 MB","systemFree":"37438.29 MB","systemTotal":"40107.36 MB","percentFree":"93.35%"},"cpu":{"loadAvg1":"0.32","loadAvg5":"0.26","loadAvg15":"0.33","cores":10},"uptime":"7h 15m 54s","processUptime":"1s"}
[2025-05-26T22:30:24.391Z] [INFO] Attempting to start server on port 3000
[2025-05-26T22:30:24.391Z] [INFO] Application environment details:: {"nodeEnv":"development","port":3000,"databaseUrl":"Set (value hidden)","platform":"linux","nodeVersion":"v20.19.2","pid":78030}
[2025-05-26T22:30:24.492Z] [ERROR] Port 3000 is still in use, could not start server
[2025-05-26T22:30:52.683Z] [INFO] System resources status:: {"memory":{"rss":"111.19 MB","heapTotal":"36.81 MB","heapUsed":"35.69 MB","external":"4.31 MB","arrayBuffers":"0.82 MB","systemFree":"37553.18 MB","systemTotal":"40107.36 MB","percentFree":"93.63%"},"cpu":{"loadAvg1":"0.26","loadAvg5":"0.25","loadAvg15":"0.33","cores":10},"uptime":"7h 16m 22s","processUptime":"2m 31s"}
[2025-05-26T22:30:53.110Z] [INFO] Received SIGTERM, starting graceful shutdown...
[2025-05-26T22:30:53.110Z] [INFO] Closing HTTP server...
[2025-05-26T22:30:53.111Z] [INFO] HTTP server closed
[2025-05-26T22:30:53.111Z] [INFO] Closing database connections...
[2025-05-26T22:30:53.112Z] [INFO] Database connections closed
[2025-05-26T22:30:53.112Z] [INFO] Shutdown complete
[2025-05-26T22:31:42.892Z] [INFO] Setting up database connection...
[2025-05-26T22:31:42.893Z] [INFO] Database connection string (masked): postgres://spectrum4:****@localhost:5432/spectrum4
[2025-05-26T22:31:42.896Z] [INFO] Drizzle ORM initialized successfully
[2025-05-26T22:31:42.917Z] [INFO] Global error handlers configured successfully
[2025-05-26T22:31:42.918Z] [INFO] System resources status:: {"memory":{"rss":"114.59 MB","heapTotal":"59.30 MB","heapUsed":"38.56 MB","external":"6.18 MB","arrayBuffers":"2.85 MB","systemFree":"37564.57 MB","systemTotal":"40107.36 MB","percentFree":"93.66%"},"cpu":{"loadAvg1":"0.42","loadAvg5":"0.30","loadAvg15":"0.34","cores":10},"uptime":"7h 17m 12s","processUptime":"1s"}
[2025-05-26T22:31:42.921Z] [INFO] Attempting to start server on port 3001
[2025-05-26T22:31:42.921Z] [INFO] Application environment details:: {"nodeEnv":"development","port":3001,"databaseUrl":"Set (value hidden)","platform":"linux","nodeVersion":"v20.19.2","pid":78528}
[2025-05-26T22:31:43.028Z] [INFO] Server started successfully and listening on port 3001
[2025-05-26T22:31:43.121Z] [INFO] New database connection established
[2025-05-26T22:31:43.133Z] [INFO] New database connection established
[2025-05-26T22:31:43.479Z] [INFO] Database connection test successful, server time: Mon May 26 2025 22:31:43 GMT+0000 (Coordinated Universal Time)
[2025-05-26T22:31:43.489Z] [INFO] Database contains 0 tables
[2025-05-26T22:32:12.922Z] [INFO] System resources status:: {"memory":{"rss":"105.57 MB","heapTotal":"38.31 MB","heapUsed":"35.02 MB","external":"4.20 MB","arrayBuffers":"0.70 MB","systemFree":"37542.25 MB","systemTotal":"40107.36 MB","percentFree":"93.60%"},"cpu":{"loadAvg1":"0.25","loadAvg5":"0.27","loadAvg15":"0.33","cores":10},"uptime":"7h 17m 42s","processUptime":"31s"}
[2025-05-26T22:32:40.230Z] [INFO] [API] GET /api/user 401 16ms
[2025-05-26T22:32:40.231Z] [ERROR] [API] Request failed: GET /api/user: {"statusCode":401,"duration":16,"responseSize":"12","contentType":"text/plain; charset=utf-8","sessionId":"FwrQlYHJ0inukmACEq1Zqz7ED3bTcCkv","response":"Unauthorized"}
[2025-05-26T22:32:42.923Z] [INFO] System resources status:: {"memory":{"rss":"105.95 MB","heapTotal":"38.31 MB","heapUsed":"35.48 MB","external":"4.23 MB","arrayBuffers":"0.73 MB","systemFree":"37083.99 MB","systemTotal":"40107.36 MB","percentFree":"92.46%"},"cpu":{"loadAvg1":"0.35","loadAvg5":"0.29","loadAvg15":"0.33","cores":10},"uptime":"7h 18m 12s","processUptime":"1m 1s"}
[2025-05-26T22:33:12.924Z] [INFO] System resources status:: {"memory":{"rss":"106.07 MB","heapTotal":"38.31 MB","heapUsed":"35.64 MB","external":"4.26 MB","arrayBuffers":"0.76 MB","systemFree":"37230.93 MB","systemTotal":"40107.36 MB","percentFree":"92.83%"},"cpu":{"loadAvg1":"0.34","loadAvg5":"0.30","loadAvg15":"0.33","cores":10},"uptime":"7h 18m 42s","processUptime":"1m 31s"}
[2025-05-26T22:33:42.925Z] [INFO] System resources status:: {"memory":{"rss":"106.07 MB","heapTotal":"38.31 MB","heapUsed":"35.77 MB","external":"4.29 MB","arrayBuffers":"0.79 MB","systemFree":"37233.31 MB","systemTotal":"40107.36 MB","percentFree":"92.83%"},"cpu":{"loadAvg1":"0.21","loadAvg5":"0.27","loadAvg15":"0.32","cores":10},"uptime":"7h 19m 12s","processUptime":"2m 1s"}
[2025-05-26T22:33:55.881Z] [INFO] Setting up database connection...
[2025-05-26T22:33:55.882Z] [INFO] Database connection string (masked): postgres://spectrum4:****@localhost:5432/spectrum4
[2025-05-26T22:33:55.886Z] [INFO] Drizzle ORM initialized successfully
[2025-05-26T22:33:55.943Z] [INFO] New database connection established
[2025-05-26T22:33:55.955Z] [INFO] New database connection established
[2025-05-26T22:33:55.959Z] [INFO] Database connection test successful, server time: Mon May 26 2025 22:33:55 GMT+0000 (Coordinated Universal Time)
[2025-05-26T22:33:55.970Z] [INFO] Database contains 11 tables
[2025-05-26T22:34:12.926Z] [INFO] System resources status:: {"memory":{"rss":"106.20 MB","heapTotal":"38.31 MB","heapUsed":"35.95 MB","external":"4.32 MB","arrayBuffers":"0.82 MB","systemFree":"37252.26 MB","systemTotal":"40107.36 MB","percentFree":"92.88%"},"cpu":{"loadAvg1":"0.47","loadAvg5":"0.32","loadAvg15":"0.34","cores":10},"uptime":"7h 19m 42s","processUptime":"2m 31s"}
[2025-05-26T22:34:24.996Z] [INFO] [AUTH] Login attempt started for email: tester@test.com
[2025-05-26T22:34:25.019Z] [INFO] New database connection established
[2025-05-26T22:34:25.142Z] [INFO] [API] POST /api/login 200 176ms
[2025-05-26T22:34:25.462Z] [INFO] [API] GET /api/reports/stats 200 38ms
[2025-05-26T22:34:26.367Z] [INFO] [API] GET /api/violations 200 27ms
[2025-05-26T22:34:26.380Z] [INFO] New database connection established
[2025-05-26T22:34:26.405Z] [INFO] [API] GET /api/violations/pending-approval 200 21ms
[2025-05-26T22:34:26.406Z] [INFO] [API] GET /api/property-units 200 59ms
[2025-05-26T22:34:26.418Z] [INFO] [API] GET /api/violations/recent 200 15ms
[2025-05-26T22:34:26.428Z] [INFO] New database connection established
[2025-05-26T22:34:26.437Z] [INFO] [API] GET /api/reports/repeat-violations 200 40ms
[2025-05-26T22:34:27.566Z] [INFO] [API] GET /api/violations/pending-approval 304 17ms
[2025-05-26T22:34:32.954Z] [INFO] [API] GET /api/violations/pending-approval 304 14ms
[2025-05-26T22:34:34.531Z] [INFO] [API] GET /api/violation-categories 200 13ms
[2025-05-26T22:34:35.424Z] [INFO] [API] GET /api/violations/pending-approval 304 13ms
[2025-05-26T22:34:36.336Z] [INFO] [API] GET /api/violations 200 17ms
[2025-05-26T22:34:36.556Z] [INFO] [API] GET /api/violations/pending-approval 304 14ms
[2025-05-26T22:34:38.845Z] [INFO] [API] GET /api/violations/pending-approval 304 13ms
[2025-05-26T22:34:42.927Z] [INFO] System resources status:: {"memory":{"rss":"107.84 MB","heapTotal":"40.31 MB","heapUsed":"38.00 MB","external":"4.22 MB","arrayBuffers":"0.72 MB","systemFree":"37539.13 MB","systemTotal":"40107.36 MB","percentFree":"93.60%"},"cpu":{"loadAvg1":"0.41","loadAvg5":"0.32","loadAvg15":"0.34","cores":10},"uptime":"7h 20m 12s","processUptime":"3m 1s"}
